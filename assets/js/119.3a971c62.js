(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{571:function(t,a,s){"use strict";s.r(a);var e=s(1),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[t._v("#")]),t._v(" cookie")]),t._v(" "),a("p",[t._v("쿠키다 쿠키는 작은 데이터의 작은 조각이다.")]),t._v(" "),a("p",[t._v("서버에서 클라이언트에 데이터를 저장하는 방법중 하나이다.")]),t._v(" "),a("p",[a("strong",[t._v("서버가 클라이언트에 데이터를 저장할 수 있다.")])]),t._v(" "),a("p",[t._v("이러한 쿠키는 클라이언트가 서버에게 전해줄 수 있는 경우는 특정 조건을 만족할 때인데 이러한 조건을 쿠키 옵션으로 줄 수 있다.")]),t._v(" "),a("p",[t._v("HTTP 통신의 stateless한 특성을 보완해 줄 수 있다.")]),t._v(" "),a("p",[t._v("기본적으로 mdn에서는 set-cookie를 통해서 쿠이 옵션을 정해주고 만들수 있다고 하지만, express에서 제공하는 추가적인 라이브러리를 이용하면 편리하게 할 수 있다는 것도 알아두자.")]),t._v(" "),a("p",[a("code",[t._v("Set-Cookie: <cookie-name>=<cookie-value>;")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("Set"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nSet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" Expires"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("date"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nSet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" Max"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("non"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("zero"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("digit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nSet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" Domain"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("domain"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nSet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" Path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nSet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" Secure\nSet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" HttpOnly\n\nSet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" SameSite"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Strict\nSet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" SameSite"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Lax\nSet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" SameSite"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("None"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" Secure\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Multiple attributes are also possible, for example:")]),t._v("\nSet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" Domain"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("domain"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" Secure"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" HttpOnly\n")])])]),a("p",[t._v("이러한 다양한 옵션들이 있는데 우리가 주요하게 알아야하는 것을 알아보자.")]),t._v(" "),a("h2",{attrs:{id:"options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options"}},[t._v("#")]),t._v(" Options")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("Max-Age")]),t._v(" : cookie가 살아있는 기간을 의미한다.")]),t._v(" "),a("li",[a("code",[t._v("Expires=<date>")]),t._v(" : cookie가 살아있는 기간을 날짜로 정해줄 수 있다.")]),t._v(" "),a("li",[a("code",[t._v("Domain")]),t._v(" : 쿠키가 전송될 호스트를 의미 default는 현재 도큐먼트의 url이다.")]),t._v(" "),a("li",[a("code",[t._v("PAth=<path-value>")]),t._v(" : / 이후의 디렉토리 구조")]),t._v(" "),a("li",[a("code",[t._v("Secure")]),t._v(" : https에서 쿠키를 주고 받을 수 있도록한다. 하지만 이는 여전히 javascript에서 읽거나 수정될 수 있다.")]),t._v(" "),a("li",[a("code",[t._v("HttpOnly")]),t._v(" : 더 이상 javascript에서 읽거나 수정할 수 없다.")]),t._v(" "),a("li",[a("code",[t._v("SameSite=<sanesite-value>")]),t._v(" : cors 에대한 컨트롤을 할 수 있다.\n"),a("ul",[a("li",[t._v("Strict는 다른 origin에서는 쿠키를 받을 수 없다.")]),t._v(" "),a("li",[t._v("Lax는 사용자가 외부 사이트에서 origin 사이트로 이동할 때 전송")]),t._v(" "),a("li",[t._v("None 모두 열어줍니다. 이때는 Secure를 꼭 사용하자.")])])])]),t._v(" "),a("h2",{attrs:{id:"제약"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#제약"}},[t._v("#")]),t._v(" 제약")]),t._v(" "),a("p",[t._v("하지만 쿠키는 아무래도 클라이언트에서 저장을 하기에 사용자에게 보안의 중요한 책임을 주는 것과 같기에 이를 서버에 저장하고 서버에서 데이터를 받아가도록도 할 수 있는데 이때 우리는 Session을 이용하게 된다.")]),t._v(" "),a("p",[t._v("cookie에는 Session에 접속할 수 있는 Session Id를 전해주고,")]),t._v(" "),a("p",[t._v("클라이언트가 전해준 Cookie에 Session Id를 확인해서 서버는 해당 Session에 있는 정보를 읽어 전달하여줄 수 있다.")])])}),[],!1,null,null,null);a.default=r.exports}}]);